<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Proctor Dashboard â€” SKIT Proctoring</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <link rel="stylesheet" href="../css/proctor-dashboard.css"/>
</head>
<body>
    <!-- Navigation -->
    <nav class="dash-nav">
        <div class="nav-brand">
            <div class="brand-icon"><i class="fas fa-shield-halved"></i></div>
            <span>SKIT Proctor</span>
        </div>
        <div class="nav-links">
            <a href="../index.html"><i class="fas fa-home"></i> Home</a>
            <a href="proctor-dashboard.html" class="active"><i class="fas fa-th-large"></i> Dashboard</a>
            <a href="../login.html" onclick="logout(event)" class="nav-logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
        <button class="nav-mobile-btn" onclick="document.querySelector('.dash-nav').classList.toggle('open')">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <main class="dash-main">
        <!-- Welcome -->
        <section class="dash-welcome">
            <div>
                <h1><i class="fas fa-chalkboard-teacher"></i> Proctor Dashboard</h1>
                <p class="welcome-sub" id="proctorInfo">Welcome, Proctor!</p>
            </div>
        </section>

        <!-- Stats -->
        <section class="stats-grid">
            <div class="stat-card" style="--accent:#6366f1">
                <div class="stat-icon"><i class="fas fa-user-graduate"></i></div>
                <div><p class="stat-label">Total Students</p><h3 id="totalStudents">0</h3></div>
            </div>
            <div class="stat-card" style="--accent:#06b6d4">
                <div class="stat-icon"><i class="fas fa-clipboard-list"></i></div>
                <div><p class="stat-label">Exams Conducted</p><h3 id="examsConducted">0</h3></div>
            </div>
            <div class="stat-card" style="--accent:#10b981">
                <div class="stat-icon"><i class="fas fa-chart-bar"></i></div>
                <div><p class="stat-label">Average Score</p><h3 id="avgScore">0%</h3></div>
            </div>
            <div class="stat-card" style="--accent:#f59e0b">
                <div class="stat-icon"><i class="fas fa-percentage"></i></div>
                <div><p class="stat-label">Pass Rate</p><h3 id="passRate">0%</h3></div>
            </div>
        </section>

        <!-- Tabs -->
        <div class="tab-bar">
            <button class="tab-btn active" onclick="switchTab('students')"><i class="fas fa-users"></i> My Students</button>
            <button class="tab-btn" onclick="switchTab('exams')"><i class="fas fa-file-alt"></i> Exams</button>
            <button class="tab-btn" onclick="switchTab('reports')"><i class="fas fa-chart-pie"></i> Reports</button>
        </div>

        <!-- STUDENTS TAB -->
        <div id="students" class="tab-content active">
            <div class="card">
                <h3><i class="fas fa-clipboard-list"></i> Assigned Students</h3>
                <div class="table-wrap">
                    <table id="studentsTable">
                        <thead>
                            <tr><th>USN</th><th>Name</th><th>Email</th><th>Dept</th><th>Phone</th><th>Action</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-calculator"></i> Internal Marks Entry</h3>
                <form id="internalMarksForm" class="marks-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="internalStudentSelect">Student</label>
                            <select id="internalStudentSelect" required><option value="">Select student</option></select>
                        </div>
                        <div class="form-group">
                            <label for="internalExamSelect">Exam / Course</label>
                            <select id="internalExamSelect" required><option value="">Select exam</option></select>
                        </div>
                        <div class="form-group">
                            <label for="internalComponent">Component</label>
                            <select id="internalComponent" required>
                                <option value="IA-1">IA-1</option>
                                <option value="IA-2">IA-2</option>
                                <option value="IA-3">IA-3</option>
                                <option value="Assignment">Assignment</option>
                                <option value="Project">Project</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="internalScore">Marks (out of 50)</label>
                            <input type="number" id="internalScore" min="0" max="50" step="1" placeholder="e.g., 42" required/>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Save Marks</button>
                        <span id="internalMarksStatus" class="save-status" aria-live="polite"></span>
                    </div>
                </form>

                <div class="marks-recent">
                    <h4><i class="fas fa-clock"></i> Recent Entries</h4>
                    <div class="table-wrap">
                        <table id="internalMarksTable">
                            <thead><tr><th>Student</th><th>Exam</th><th>Component</th><th>Marks</th><th>Updated</th></tr></thead>
                            <tbody><tr><td colspan="5" style="text-align:center;">No entries recorded yet</td></tr></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXAMS TAB -->
        <div id="exams" class="tab-content">
            <div class="card">
                <h3><i class="fas fa-file-alt"></i> Scheduled Exams</h3>
                <div class="table-wrap">
                    <table id="examsTable">
                        <thead><tr><th>Exam Name</th><th>Date</th><th>Time</th><th>Students</th><th>Status</th><th>Action</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- REPORTS TAB -->
        <div id="reports" class="tab-content">
            <div class="card">
                <h3><i class="fas fa-chart-pie"></i> Student Performance Report</h3>
                <div class="table-wrap">
                    <table id="reportsTable">
                        <thead><tr><th>USN</th><th>Name</th><th>Total Exams</th><th>Avg Score</th><th>Pass Status</th><th>Last Exam</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <footer class="dash-footer">
        <p>&copy; 2026 SKIT Proctoring System &mdash; Built with <i class="fas fa-heart" style="color:#ef4444"></i></p>
    </footer>

    <script src="../js/proctor-dashboard.js"></script>
</body>
</html>
